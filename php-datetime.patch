From f457487e163502480f74a70bf9272fd003fc1919 Mon Sep 17 00:00:00 2001
From: Julien Pauli <jpauli@php.net>
Date: Thu, 5 Feb 2015 10:01:26 +0100
Subject: [PATCH] Revert "Fixed bug #55407 (Impossible to prototype
 DateTime::createFromFormat)"

This reverts commit 8e19705a93d785cd1ff8ba3a69699b00169fea47.
---
 ext/date/php_date.c          |  2 +-
 ext/date/tests/bug55407.phpt | 17 -----------------
 2 files changed, 1 insertion(+), 18 deletions(-)
 delete mode 100644 ext/date/tests/bug55407.phpt

diff --git a/ext/date/php_date.c b/ext/date/php_date.c
index 8a7aeae..f8571b9 100644
--- a/ext/date/php_date.c
+++ b/ext/date/php_date.c
@@ -163,7 +163,7 @@ ZEND_END_ARG_INFO()
 ZEND_BEGIN_ARG_INFO_EX(arginfo_date_create_from_format, 0, 0, 2)
 	ZEND_ARG_INFO(0, format)
 	ZEND_ARG_INFO(0, time)
-	ZEND_ARG_OBJ_INFO(0, object, DateTimeZone, 1)
+	ZEND_ARG_INFO(0, object)
 ZEND_END_ARG_INFO()
 
 ZEND_BEGIN_ARG_INFO_EX(arginfo_date_parse, 0, 0, 1)
diff --git a/ext/date/tests/bug55407.phpt b/ext/date/tests/bug55407.phpt
deleted file mode 100644
index 00c3356..0000000
--- a/ext/date/tests/bug55407.phpt
+++ /dev/null
@@ -1,17 +0,0 @@
---TEST--
-Bug #55407 (Impossible to prototype DateTime::createFromFormat)
---INI--
-error_reporting=-1
---FILE--
-<?php namespace melt\core;
-
-class DateTime extends \DateTime {
-    public static function createFromFormat($format, $time, DateTimeZone $timezone = null) {
-        return new DateTime(parent::createFromFormat($format, $time, $timezone));
-    }
-}
-
-echo "DONE\n";
-?>
---EXPECTF--
-DONE
-- 
2.1.4

